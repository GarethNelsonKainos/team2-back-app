generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}
 

model Capability {
  capabilityId   String    @id @default(uuid())
  capabilityName String

  jobRoles       JobRole[]

  @@unique([capabilityName])
}

model Band {
  bandId   String   @id @default(uuid())
  bandName String

  jobRoles JobRole[]

  @@unique([bandName])
}

model Status {
  statusId   String   @id @default(uuid())
  statusName String

  jobRoles   JobRole[]

  @@unique([statusName])
}

model JobRole {
  jobRoleId    String   @id @default(uuid())
  roleName     String
  location     String
  closingDate  DateTime
  description  String?
  responsibilities String?
  sharepointUrl String?
  numberOfOpenPositions Int?  

  capabilityId String
  capability   Capability @relation(fields: [capabilityId], references: [capabilityId])

  bandId       String
  band         Band       @relation(fields: [bandId], references: [bandId])

  statusId     String
  status       Status     @relation(fields: [statusId], references: [statusId])
}

model User {
  userId    String   @id @default(uuid())
  email     String   @unique
  firstName String
  secondName String
  password  String
  role      String   @default("user")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}